/*! international-phone-number 2015-10-23 */
(function(){"use strict";angular.module("internationalPhoneNumber",[]).constant("ipnConfig",{allowExtensions:!1,autoFormat:!0,autoHideDialCode:!0,autoPlaceholder:!0,customPlaceholder:null,defaultCountry:"",geoIpLookup:null,nationalMode:!0,numberType:"MOBILE",onlyCountries:void 0,preferredCountries:["us","gb"],utilsScript:""}).directive("internationalPhoneNumber",["$timeout","ipnConfig",function(n,e){return{restrict:"A",require:"^ngModel",scope:{ngModel:"="},link:function(t,r,o,u){var i,l,a,s;return u&&""!==r.val()&&n(function(){return r.intlTelInput("setNumber",r.val()),u.$setViewValue(r.val())},0),a=function(){return u.$setViewValue(r.val())},i=function(n){return n instanceof Array?n:n.toString().replace(/[ ]/g,"").split(",")},l=angular.copy(e),angular.forEach(l,function(n,e){var t;if(o.hasOwnProperty(e)&&angular.isDefined(o[e]))return t=o[e],"preferredCountries"===e?l.preferredCountries=i(t):"onlyCountries"===e?l.onlyCountries=i(t):l[e]="boolean"==typeof n?"true"===t:t}),s=t.$watch("ngModel",function(n){return n?t.$$postDigest(function(){return null!==n&&void 0!==n&&n.length>0&&("+"!==n[0]&&(n="+"+n),r.val(n)),r.intlTelInput(l),void 0!==o.skipUtilScriptDownload||l.utilsScript||r.intlTelInput("loadUtils","/bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),s()}):void 0}),u.$formatters.push(function(n){return n?(r.intlTelInput("setNumber",n),r.val()):n}),u.$parsers.push(function(n){return n?n.replace(/[^\d]/g,""):n}),u.$validators.internationalPhoneNumber=function(n){var e;return e=r.intlTelInput("getSelectedCountryData"),!n||e&&e.dialCode===n?!0:r.intlTelInput("isValidNumber")},r.on("blur keyup change",function(){return t.$apply(a)}),r.on("$destroy",function(){return r.intlTelInput("destroy"),r.off("blur keyup change")})}}}])}).call(this);